<script lang="ts">
	import { getSignals } from '$lib/api/api.remote';
	import DataTable from './table-signals/data-table.svelte';
	import { columns } from './table-signals/signals.js';
	import Spinner from '$lib/components/ui/spinner/spinner.svelte';

	let query = getSignals();
</script>

<div class="flex flex-1 flex-col">
	<div class="@container/main m-1 flex flex-1 flex-col gap-2">
		{#if query.error}
			<em>ERROR</em>
		{:else if query.loading}
			<div class="grid h-1/2 place-content-center">
				<Spinner class="size-6" />
			</div>
		{:else}
			<DataTable data={query.current?.data ?? []} {columns} />
		{/if}
	</div>
</div>
